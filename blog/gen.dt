#!/usr/bin/env dt

[ "}}" split deq [code literal]:
  code eval
  literal push "" join
] \fill-part def!

[ "{{" split deq 
  \fill-part map enq
  "" join
] \fill def!

"etc/blog.html.template" readf \blog-template:

[ [title main]:
  blog-template fill
] \blog def!

# TODO: dirname/basename should be in dt
[ "/" split last ] \basename def


### Blog index ###

"so.dang.cool :: Boonie Pepper Bites"
"index.html.part" readf fill
blog "index.html" writef
